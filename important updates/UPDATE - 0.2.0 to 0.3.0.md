# ❗BIG UPDATE: 0.2.0 -> 0.3.0❗

## What's new?

### 1. New chatbots ability: **Last conversation memory**

#### 1.1. _What is this?_

Now, chatbots built with PyRomusa AI` can generate responses based on the last conversation. This new chatbot ability is useful for users in case the user wants to say something relevant about the chatbot's or the user's last message.

#### 1.2. _How to use this chatbot ability?_

This functionality cannot be used just _'a `load_prepared_dataset()` and done'_, because the available prepared datasets do not have this functionality.

**But instead, you can create manual training examples yourself**, also adding this last conversation memory functionality.

Below, I've written all the functions and variables within them that are related to this new memory system:

``` python
from PyRomusa_AI import Chatbot

bot = Chatbot()


bot.trainer.add_data(
    if_last_input="",
    if_last_output=""
)

bot.reply_at(
    sensitivity=1,
    with_memory=True
)

```
|Variable|It can be found in|Required value type|Description|
|:---:|:---:|:---:|:----|
|`if_last_input`|`bot.trainer.add_data()`|string|In this variable, the user's last prompt should be added, as a training example. A value is needed here because it influences the chatbot's response, depending on the last prompt written by the user. **This variable is useful if you want the chatbot to return a logical response related to the last input.**|
|`if_last_output`|`bot.trainer.add_data()`|string|In this variable, the chatbot's last response should be added, as a training example. A value is needed here because it influences the chatbot's response, depending on the last text generated by the chatbot. **This variable is useful if you want the chatbot to return a logical response related to the last output.**
|`sensitivity`|`bot.reply_at()`|integer|This variable **represents the minimum number of words that `if_last_input`/`if_last_output` should have in common with the user prompt/chatbot response** to actually influence the last conversation for the new conversation.|
|`with_memory`|`bot.reply_at()`|boolean|Did you know that this functionality with **the memory of the last conversation is optional**? Well, by setting a value between `True/False`, you will say whether you want the chatbot to take the last conversation into account or not, to influence the next message of your chatbot.|

### 1.3. Complete code example to use this functionality

``` python
from PyRomusa_AI import Chatbot

bot = Chatbot(chatbot_name="Memory Tester")

# 1. --- We add some minimal examples for training so that our chatbot is able to respond to messages ---
# 1.1. Just a classic example of training data, to start the chatbot vocabulary
bot.trainer.add_data(
    training_input_example="Hello chatbot!",
    training_output_example="Hello, what would you like me to help you with today?"
)

# 1.2. Expected part: training example where we say the user answers the chatbot's question 'Hello, what would you like me to help you with today?' from the previous conversation with 'No way, I didn't want to talk to you.'
bot.trainer.add_data(
    training_input_example="No way, I didn't want to talk to you.",
    training_output_example="Ah, okay, then another time you'll probably really need my help. Bye then!",

    if_last_output="Hello, what would you like me to help you with today?"
)

# 2. --- We start the chatbot training process ---
bot.trainer.start()


# 3. --- Generate chatbot responses ---
print("---\n")

print(f"{bot.chatbot_name}: {bot.reply_at(
    prompt = "Hello chatbot!",
    engine_name="stable",
    sensitivity=5,
    with_memory=True
)}")
print(f"{bot.chatbot_name}: {bot.reply_at(
    prompt = "No way, I didn't want to talk to you.",
    engine_name="stable",
    sensitivity=5,
    with_memory=True
)}")

print("\n---\n")

# Optional: How would your chatbot respond if it didn't remember the past conversation?

print(f"{bot.chatbot_name}: {bot.reply_at(
    prompt = "Hello chatbot!",
    engine_name="stable",
    sensitivity=5,
    with_memory=False # Make sure this variable is False.
)}")
print(f"{bot.chatbot_name}: {bot.reply_at(
    prompt = "No way, I didn't want to talk to you.",
    engine_name="stable",
    sensitivity=5,
    with_memory=False
)}")

```


### 2. Upgrade to the prepared dataset 'Teacher for PyRomusa AI'

#### 2.1. _What is this?_

There's no point in adding too many details here, but you should know that **the vocabulary and number of examples for this prepared dataset (Teacher for PyRomusa AI)  have increased.** Now, theoretically, chatbots with this dataset can respond to more prompts.

#### 2.2. _How to use this prepared dataset (code example)?_

``` python
from PyRomusa_AI import Chatbot

bot = Chatbot(chatbot_name="My Teacher") # Remember that 'chatbot_name' variable is optional to fill in, it does not influence the performance of the chatbot. This is just for personality.

# The most important line of code: Using the prepared dataset 'Teacher for PyRomusa AI' in Romanian.
bot.prepared_datasets.romanian.load_prepared_dataset(dataset_name="pyromusa-ai-teacher")

bot.trainer.start()

# 'Ce este PyRomusa AI?' (Romanian) = 'What is PyRomusa AI?' (English)
print(bot.reply_at("Ce este PyRomusa AI?"))
```